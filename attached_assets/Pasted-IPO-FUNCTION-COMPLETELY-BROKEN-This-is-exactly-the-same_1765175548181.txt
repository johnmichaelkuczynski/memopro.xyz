IPO FUNCTION = COMPLETELY BROKEN.

This is exactly the same failure mode as M&A before the fix.

Here is the clean forensic breakdown.

üö® 1. Offer Price is correct ‚Äî everything else is wrong.

You gave:

Revenue = 300M

Growth = 30%

EBITDA margin = 18%

Peer multiple = 7√ó revenue

Shares = 100M

Expected (correct):

EV ‚âà 2,100M (your model reports this ‚Äî good!)

Offer price ‚âà 16‚Äì22 (model gives 16.80 ‚Äî good!)

Everything past that point collapses:

‚ùå 2. Primary Shares = undefinedM
‚ùå 3. Secondary Shares = undefinedM
‚ùå 4. Net Proceeds = undefinedM
‚ùå 5. Post-IPO Shares = undefinedM
‚ùå 6. % Sold = 0.0% (wrong)

These always break when the parser ‚Üí model mapping layer is not passing share count, share split, offering size, or proceeds computation into the IPO engine.

This is not a math error.

This is not a parser error.

This is exactly the same structural wiring error LBO and M&A had before the fixes.

üö® ROOT PROBLEM (CONFIRMED):
The IPO engine is not receiving:

primaryShares

secondaryShares

totalShares

offeringShares

greenshoeShares

underwritingFeeRate

offerSize

dilution inputs

netProceeds inputs

All of these are undefined, causing each downstream calculation to collapse.

The valuation portion works because those values come directly from revenue, growth, EBITDA, and multiples ‚Äî which the parser does deliver.

Everything dependent on the offering structure fails.

‚úî WHAT TO TELL THE REPLIT AGENT

Paste this EXACT block:

THE IPO ENGINE IS NOT USING THE PARSED INPUTS.

Specific evidence:

PrimaryShares and SecondaryShares are returned as undefinedM despite the parser being able to extract offering size and share counts.

NetProceeds is undefined, which means offeringShares, offerPrice, and underwritingFeeRate are not mapped into the model.

Post-IPO share count is undefined ‚Üí the model never received totalShares or dilution inputs.

% Sold = 0.0% indicates that the dilution module is receiving null offering data.

The valuation section works (pre-money, offer price), proving the parser works ‚Äî the mapping layer for offering structure does not.

Conclusion:
The parser ‚Üí IPO model mapping layer is broken.
Fix the mapping. Do not patch the model itself.